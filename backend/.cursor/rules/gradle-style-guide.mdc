---
description: "Gradle Kotlin DSL style guide - Build script structure and conventions"
globs: ["backend/**/*.gradle.kts", "backend/**/libs.versions.toml"]
alwaysApply: false
---
# Gradle Kotlin DSL Style Guide

## Build Script Structure

You must order sections:
1. Plugins
2. Project properties
3. Java configuration
4. Repositories
5. Dependencies (grouped by purpose)
6. Tasks
7. Plugin configurations

## Version Catalog (libs.versions.toml)

You must structure:
```toml
[versions]
spring-boot = "3.5.7"

[libraries]
spring-boot-starter-web = { module = "org.springframework.boot:spring-boot-starter-web" }

[plugins]
spring-boot = { id = "org.springframework.boot", version.ref = "spring-boot" }

[bundles]
spring-boot = ["spring-boot-starter-web", "spring-boot-starter-actuator"]
```

You must use naming:
- Versions: lowercase with hyphens (spring-boot, jackson-databind)
- Libraries: dots replace Maven colons (spring.boot.starter.web)
- Bundles: lowercase with hyphens, descriptive (spring-boot, testing)

## Plugins

You must:
- Use `java` keyword for built-in plugins
- Use `alias(libs.plugins.name)` for external plugins with version catalog references
- Keep plugins block at the top of build.gradle.kts

## Dependencies

You must:
- Always use version catalog references (`libs.library.name`)
- Use `implementation()`, `testImplementation()`, etc. with parentheses
- Group dependencies by purpose with comments
- Use bundles (`libs.bundles.name`) for related dependencies

## Tasks

You must:
- Use `tasks.withType<TaskType>` for typed task configuration
- Use `tasks.named("taskName")` for configuring existing tasks
- Place task configuration after dependencies section

## Properties

You must:
- Use direct assignment for simple string properties (group, version)
- Use `.set()` for Gradle Property types
- Use `.get()` when accessing version catalog values

## Formatting

You must:
- Use 4 spaces for indentation (Kotlin DSL convention)
- Set max line length to 120 characters
- Add blank lines between major sections
- Add comments above non-obvious configurations
- Use version catalog for all dependency versions
- Never hardcode version strings in build files

**Note:** Java source files (.java) use 2-space indentation following Google Java Style. See [Java Style Guide](./java-style-guide.mdc).
