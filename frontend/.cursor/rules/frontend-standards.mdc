---
description: "React frontend standards: React 19, custom hooks, Context API, component organization, @/ imports"
globs: ["frontend/src/**/*.{js,jsx,ts,tsx}"]
alwaysApply: false
---
# Frontend Development Standards

## Component Architecture

You must:
- Keep components under 200 lines (break up larger)
- Extract reusable logic into custom hooks
- Extract reusable UI patterns into primitives or shared components
- Use memoization (React.memo) for components that render frequently

### Component Organization

You must organize by:
- **Primitives/UI** (`components/ui/`): Generic, reusable UI components (Button, Card, Alert, Badge, Skeleton, LiveRegion, etc.)
- **Components** (`components/`): Domain-specific shared components (layout, search, recipe cards)
- **Pages** (`pages/`): Route-level components that compose features
- **Hooks** (`hooks/`): Custom reusable hooks for stateful logic
- **Utils** (`utils/`): Pure utility functions (httpClient, logger, iconRegistry, etc.)
- **Constants** (`constants/`): Application-wide constants (api, ui, validation)

### Icons

You must use:
- @heroicons/react: Official Tailwind CSS icon library
- Import from '@heroicons/react/24/outline' for outline icons
- Import from '@heroicons/react/24/solid' for solid icons
- Apply size classes directly: w-4 h-4 (sm), w-5 h-5 (md), w-6 h-6 (lg), w-8 h-8 (xl), w-12 h-12 (2xl)

### Component Extraction

You should extract when:
- Same UI pattern appears 2+ times (DRY principle)
- Component exceeds 200 lines
- Clear, reusable abstraction emerges
- Styling patterns repeat across components

You should NOT extract when:
- Used only once
- Abstraction adds complexity without benefit
- Pattern is still evolving

## Import Standards

You must:
- Use `@/` alias for all imports from src/ directory
- Use relative imports (`./`) ONLY for files in the same directory
- Never use parent directory imports (`../`, `../../`, etc.)

### Rationale

- **Refactoring**: Moving files doesn't break imports
- **Clarity**: Absolute path shows exact location
- **Consistency**: Single import style across codebase
- **Readability**: Easier to understand component hierarchy

### Examples

Good:
- Import from other directories using `@/` alias: `@/components/ui/Button`, `@/hooks/useSearch`
- Import from same directory using relative: `./RecipeHeader`, `./RecipeMetadataGroup`

Bad:
- Never use parent directory navigation: `../../../components/ui/Button`, `../../hooks/useSearch`

### Configuration

The `@/` alias is configured in `vite.config.js` under the `resolve.alias` section, mapping `@` to the `src` directory.

## React 19 Features

You should use:
- use(): For reading resources/promises
- Actions: For form submissions
- useOptimistic: For better UX
- useFormStatus: Form state

## State Management

You should use:
- useState: Simple local state
- useReducer: Complex state logic with multiple sub-values
- Context API: Shared state across component tree
- Custom hooks: Encapsulate and reuse stateful logic

## Context API

You must:
- Always memoize context values with useMemo
- Memoize actions with useCallback
- Split contexts by concern
- Wrap useContext in custom hooks

## Performance

You must:
- Debounce search inputs (use SEARCH_DEBOUNCE_DELAY from constants)
- Use React.lazy() for code splitting
- Use virtual scrolling for long lists (100+ items)
- Use stable keys for lists (not index)
- Show skeleton loaders for better perceived performance (use Skeleton components from `@/components/ui/Skeleton`)

## Constants

You must:
- Import constants from `@/constants` instead of hardcoding values
- Use API constants for HTTP configuration (timeouts, retries, delays)
- Use UI constants for pagination, animation timings, breakpoints
- Use validation constants for form validation rules

## Vite

You must:
- Prefix client-side env vars with VITE_
- Use @/ alias for src/ (see Import Standards section above)
- Access env vars via import.meta.env

## TailwindCSS

You must:
- Use utilities only (never inline styles)
- Use mobile-first approach: base → sm: → md: → lg:
- Use sr-only for screen reader only text
- Use focus:ring for visible focus indicators

## React Router

You must use:
- useParams(): Route params
- useNavigate(): Programmatic navigation
- Link: Internal navigation
- Lazy routes: Load on demand

## Accessibility

You must ensure:
- Semantic HTML: nav, main, article, button
- aria-label for buttons without text
- Logical keyboard navigation (tab order)
- Descriptive alt text for images

## API Communication

You must:
- Use centralized client (one api.js)
- Never call external APIs (through backend only)
- Handle loading/error/empty states
- Use native Fetch API (no axios)
- Use logger utility for error logging (`@/utils/logger`)
- Show skeleton loaders during data fetching

## Testing

You must:
- Test behavior, not implementation
- Use query priority: getByRole → getByLabelText → getByText
- Use userEvent over fireEvent
- Achieve 70%+ coverage
